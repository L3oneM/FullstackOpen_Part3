{"version":3,"sources":["services/persons.js","components/PersonForm.js","components/Persons.js","components/Filter.js","components/AddNotification.js","components/DeleteNotification.js","App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","put","delete","PersonForm","handleNameChange","handleNumberChange","addName","newName","newNumber","onSubmit","value","onChange","type","Persons","persons","filterName","deletePerson","map","person","key","name","number","onClick","showName","filter","toLowerCase","includes","Filter","handleFilter","AddNotification","message","className","DeleteNotification","App","useState","setPersons","setNewName","setNewNumber","setFilterName","errorMessage","setErrorMessage","addMessage","setAddMessage","useEffect","personService","then","response","data","event","target","preventDefault","newID","exist","i","length","window","confirm","changePerson","find","p","catch","error","setTimeout","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.aaf752e6.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst deletePerson = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { getAll, create, update, deletePerson }","import React from 'react'\n\nconst PersonForm = ({handleNameChange, handleNumberChange, addName, newName, newNumber}) => {\n  return (\n  <form onSubmit={addName}>\n    <div>\n      name: <input value={newName} onChange={handleNameChange} />\n    </div>\n    <div>\n      number: <input value={newNumber} onChange={handleNumberChange} /></div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n  )\n}\n\nexport default PersonForm ","import React from 'react'\n\nconst Persons = ({persons, filterName, deletePerson}) => {\n  \n  if (filterName === '') {\n    return(\n      <div>\n        {persons.map(person => <p key={person.id}>{person.name} {person.number} <button onClick={() => deletePerson(person.id, person.name)}>delete</button></p>)}\n      </div>\n    )\n  }  \n\n  const showName = persons.filter(person => person.name.toLowerCase().includes(filterName.toLowerCase())\n  )\n\n  return (\n    <div>\n      {showName.map(person => \n      <p key={person.id}>{person.name} {person.number} <button onClick={() => deletePerson(person.id, person.name)}>delete</button></p>)}\n    </div>\n  )\n}\n\nexport default Persons ","import React from 'react'\n\nconst Filter =({filterName, handleFilter}) => {\n  return (\n    <div>filter shown with <input value={filterName} onChange={handleFilter} /></div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst AddNotification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"add\">\n      {message}\n    </div>\n  )\n}\n\nexport default AddNotification","import React from 'react'\n\nconst DeleteNotification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default DeleteNotification","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport AddNotification from './components/AddNotification'\nimport DeleteNotification from './components/DeleteNotification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterName, setFilterName ] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [addMessage, setAddMessage] = useState(null)\n\n  const hook = () => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }\n\n  useEffect(hook, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n\n  let exist = false\n  let newID \n  for(let i = 0; i < persons.length; i++) {\n    if(persons[i].name.toLowerCase() === newName.toLowerCase()) {\n      exist = true\n      newID = persons[i].id\n    } \n  }\n\n  if(exist) {\n\n    if(window.confirm(`${newName} is already added to phonebook,replace the old number with a new one?`)) {\n      const person = persons.find(p => p.id === newID)\n      const changePerson = { ...person, number: newNumber }\n\n      personService\n        .update(newID, changePerson)\n        .then(response => {\n          setPersons(persons.map(person => person.id !== newID ? person : response.data))\n        })\n        .catch(error => {\n          setErrorMessage(`Information of ${newName} has already been deleted from server`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n          setPersons(persons.filter(p => p.id !== newID))\n        })\n      setNewName('')\n      setNewNumber('')\n    }   \n  } else {\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n    }\n\n    personService\n      .create(nameObject)\n      .then(response => {\n        setPersons(persons.concat(response.data))\n        setAddMessage(\n          `Added ${newName}`\n        )\n        setTimeout(() => {\n          setAddMessage(null)\n        }, 5000)\n    })\n    .catch(error => {\n      console.log(error.response.data.error)\n      setErrorMessage(error.response.data.error)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    })\n    setNewName('')\n    setNewNumber('')\n    setFilterName('')\n  }\n    \n}\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setFilterName(event.target.value)\n  }\n\n  const deletePerson = (id, name) => {\n    if (window.confirm(`Delete ${name}`)) {\n      personService\n      .deletePerson(id)\n      .then(response => {\n        setPersons(persons.filter(person => person.id !== id ? person : null))\n      })\n    }  \n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <AddNotification message={addMessage} />\n      <DeleteNotification message={errorMessage} />\n\n      <Filter filterName={filterName} handleFilter={handleFilter}/>\n\n      <h3>Add a new</h3>\n\n      <PersonForm handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} addName={addName} newName={newName} newNumber={newNumber}/>\n\n      <h2>Numbers</h2>\n      \n      <Persons persons={persons} filterName={filterName} deletePerson={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}